#include "stddefs"

function pointer incrementPointer(pointer p)
{
    var int a, b;
    b = increment(second(p));
    if (b)
        a = first(p);
    else
        a = increment(first(p));
    incrementPointer = pair(a, b);
}

function main()
{
    var pointer p; p = "Hello, world!";
    var char c; c = read(p);
    while (c)
    {
        output(c, debugout);
        p = incrementPointer(p);
        c = read(p);
    }
}
